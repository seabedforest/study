<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>测试跨域</title>
</head>
<body>
<script src="/static/jquery.min.js"></script>
<button id="btn">跨域走起</button>
<script>
    //预留函数
    function print(data){
        console.log(data);
    }

    $(function(){
        /*
        $('#btn').click(function(){
            //js版本
            var body = document.getElementsByTagName("body")[0]
            //创建script标签
            var script = document.createElement('script');
            script.type = 'text/javascript';
            script.src = "http://localhost:8000/cross_server?callback=print";
            body.append(script)
        })*/

        //jquery版本
        /*
        $('#btn').click(function(){
            $.ajax({
                url: 'http://localhost:8000/cross_server_json',
                type: 'GET',
                dataType: 'jsonp',
                jsonp: 'callback',
                jsonpCallback: 'print',
            })
        })*/

        //jquery简版
        $('#btn').click(function(){
            $.ajax({
                url: 'http://localhost:8000/cross_server_json',
                type: 'GET',
                dataType: 'jsonp',
                success: function(data){
                    console.log('---jquery super');
                    console.log(data);
                }
            })
        })
    })
</script>
</body>
</html>